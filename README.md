# VPS Monitor - è½»é‡çº§æœåŠ¡å™¨ç›‘æ§æ¢é’ˆ

ä¸€ä¸ªè½»é‡çº§çš„ VPS ç›‘æ§æ¢é’ˆç³»ç»Ÿï¼Œæ”¯æŒä¸€é”®éƒ¨ç½²åˆ° Vercelã€‚åŸºäº Vercel Serverless + KV å­˜å‚¨ï¼Œæ— éœ€ç‹¬ç«‹åç«¯æœåŠ¡ã€‚

![VPS Monitor](https://img.shields.io/badge/VPS-Monitor-blue)
![React](https://img.shields.io/badge/React-18-61DAFB)
![TypeScript](https://img.shields.io/badge/TypeScript-5-3178C6)
![Tailwind CSS](https://img.shields.io/badge/Tailwind-3-38B2AC)
![Vercel](https://img.shields.io/badge/Vercel-Serverless-black)

## ğŸ¯ ç‰¹æ€§äº®ç‚¹

- âš¡ **ä¸€é”®éƒ¨ç½²** - éƒ¨ç½²åˆ° Vercelï¼Œæ— éœ€æœåŠ¡å™¨
- ğŸŒ **IP è‡ªåŠ¨å®šä½** - è‡ªåŠ¨è¯†åˆ« VPS æ‰€åœ¨åœ°åŒºå’Œè¿è¥å•†
- ğŸ” **Token è®¤è¯** - å®‰å…¨çš„æ•°æ®ä¸ŠæŠ¥æœºåˆ¶
- ğŸ“± **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- ğŸŒ“ **æš—è‰²æ¨¡å¼** - æ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢
- ğŸ”„ **å®æ—¶ç›‘æ§** - 5 ç§’è‡ªåŠ¨åˆ·æ–°æ•°æ®

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æœåŠ¡å™¨ç›‘æ§
- ğŸ–¥ï¸ **èŠ‚ç‚¹åç§°** - æ”¯æŒè‡ªå®šä¹‰æˆ–è‡ªåŠ¨è¯†åˆ«ï¼ˆåŸå¸‚ + ISPï¼‰
- ğŸŒ **ä½ç½®æ˜¾ç¤º** - å›½æ—— emoji ç›´è§‚å±•ç¤ºï¼ŒIP è‡ªåŠ¨å®šä½
- â±ï¸ **å¼€æœºæ—¶é—´** - æ˜¾ç¤ºæœåŠ¡å™¨è¿è¡Œæ—¶é•¿
- ğŸ”Œ **åè®®ç±»å‹** - æ”¯æŒ KVM/OpenVZ ç­‰è™šæ‹ŸåŒ–ç±»å‹
- ğŸ“Š **ç³»ç»Ÿè´Ÿè½½** - 1/5/15 åˆ†é’Ÿè´Ÿè½½ç›‘æ§

### èµ„æºç›‘æ§
- ğŸ’» **CPU ä½¿ç”¨ç‡** - å®æ—¶å¤„ç†å™¨å ç”¨æƒ…å†µ
- ğŸ§  **å†…å­˜ä½¿ç”¨** - å†…å­˜ä½¿ç”¨é‡åŠç™¾åˆ†æ¯”
- ğŸ’¾ **ç¡¬ç›˜ä½¿ç”¨** - ç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µ

### ç½‘ç»œæµé‡
- ğŸ“ˆ **å®æ—¶é€Ÿåº¦** - å½“å‰ä¸Šä¼ /ä¸‹è½½é€Ÿåº¦
- ğŸ“… **æœˆæµé‡** - æœˆåº¦æµé‡ä½¿ç”¨ç»Ÿè®¡ï¼ˆå¯é…ç½®é‡ç½®æ—¥ï¼‰
- ğŸ“Š **æ€»æµé‡** - ç´¯è®¡ä¸Šä¼ /ä¸‹è½½æµé‡

### ç½‘ç»œè´¨é‡
- ğŸ“¶ **ä¸‰ç½‘å»¶è¿Ÿ** - ç”µä¿¡/è”é€š/ç§»åŠ¨å»¶è¿Ÿæµ‹è¯•
- ğŸ“‰ **ä¸¢åŒ…ç‡** - ç½‘ç»œä¸¢åŒ…æƒ…å†µç›‘æ§
- ğŸ¯ **è¿æ¥è´¨é‡** - ä¼˜ç§€/è‰¯å¥½/è¾ƒå·®çŠ¶æ€æŒ‡ç¤º

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šä¸€é”®éƒ¨ç½²åˆ° Vercelï¼ˆæ¨èï¼‰

1. **Fork æœ¬ä»“åº“**

2. **åœ¨ Vercel å¯¼å…¥é¡¹ç›®**
   - ç™»å½• [Vercel](https://vercel.com)
   - ç‚¹å‡» "Add New Project"
   - å¯¼å…¥ä½  Fork çš„ä»“åº“

3. **é…ç½® Vercel KV å­˜å‚¨**
   - åœ¨ Vercel Dashboard â†’ Storage â†’ Create Database â†’ KV
   - é€‰æ‹©ä½ çš„é¡¹ç›®è¿›è¡Œè¿æ¥

4. **é…ç½®ç¯å¢ƒå˜é‡**
   ```
   API_TOKEN=your-secret-token-here
   VITE_USE_REAL_API=true
   ```

5. **éƒ¨ç½²å®Œæˆï¼**

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/Zbun/avpsmonitor)

### æ–¹å¼äºŒï¼šæœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼ï¼ˆä½¿ç”¨ Demo æ•°æ®ï¼‰
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
```

è®¿é—® http://localhost:3000 æŸ¥çœ‹æ•ˆæœã€‚

## ğŸ“¡ å®‰è£… Agent

åœ¨ä½ çš„ VPS ä¸Šè¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…ç›‘æ§ Agentï¼š

### ä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰

```bash
curl -fsSL https://raw.githubusercontent.com/Zbun/avpsmonitor/main/agent/install.sh | bash -s -- \
  https://your-app.vercel.app \
  your-api-token \
  my-vps-01
```

åªéœ€ 3 ä¸ªå‚æ•°ï¼š
| å‚æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `SERVER_URL` | Vercel éƒ¨ç½²åœ°å€ | `https://vps.vercel.app` |
| `API_TOKEN` | API è®¤è¯ Token | `your-secret-token` |
| `NODE_ID` | èŠ‚ç‚¹å”¯ä¸€æ ‡è¯† | `hk-01` |

> ğŸ’¡ **ä½ç½®è‡ªåŠ¨è¯†åˆ«**ï¼šæœåŠ¡ç«¯ä¼šæ ¹æ® VPS çš„ IP åœ°å€è‡ªåŠ¨è¯†åˆ«åœ°åŒºå’Œè¿è¥å•†ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®ï¼

### æ‰‹åŠ¨å®‰è£…

```bash
# ä¸‹è½½ Agent
curl -fsSL https://raw.githubusercontent.com/Zbun/avpsmonitor/main/agent/agent.js -o /opt/vps-agent/agent.js

# ç¼–è¾‘é…ç½®
export SERVER_URL="https://your-app.vercel.app"
export API_TOKEN="your-api-token"
export NODE_ID="my-vps-01"

# è¿è¡Œ
node /opt/vps-agent/agent.js
```

### Agent ç®¡ç†

```bash
# æŸ¥çœ‹çŠ¶æ€
systemctl status vps-agent

# æŸ¥çœ‹æ—¥å¿—
journalctl -u vps-agent -f

# é‡å¯æœåŠ¡
systemctl restart vps-agent

# å¸è½½
systemctl stop vps-agent
systemctl disable vps-agent
rm -rf /opt/vps-agent /etc/systemd/system/vps-agent.service
```

## ğŸ—ï¸ æ¶æ„è¯´æ˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   VPS 1     â”‚         â”‚          Vercel                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  POST   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚  Agent  â”‚â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  â”‚ /api/reportâ”‚â”€â”€â”€â–ºâ”‚ Vercel   â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚  â”‚  (ä¸ŠæŠ¥API) â”‚    â”‚    KV    â”‚  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚
â”‚   VPS 2     â”‚         â”‚                         â”‚        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚        â”‚
â”‚ â”‚  Agent  â”‚â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  â”‚ /api/nodes â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚  â”‚  (æŸ¥è¯¢API) â”‚                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚   VPS N     â”‚         â”‚        â”‚                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚ â”‚  Agent  â”‚â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  â”‚   React    â”‚  â—„â”€â”€ ç”¨æˆ·è®¿é—®    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚  â”‚   å‰ç«¯     â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµç¨‹

1. **Agent ä¸ŠæŠ¥** â†’ VPS ä¸Šçš„ Agent æ¯ 5 ç§’å‘ `/api/report` å‘é€ç³»ç»Ÿæ•°æ®
2. **IP å®šä½** â†’ æœåŠ¡ç«¯è‡ªåŠ¨æ ¹æ® IP è·å–åœ°ç†ä½ç½®ï¼ˆä½¿ç”¨ ip-api.comï¼‰
3. **æ•°æ®å­˜å‚¨** â†’ æ•°æ®å­˜å…¥ Vercel KVï¼Œè®¾ç½® 60 ç§’è¿‡æœŸï¼ˆç”¨äºåˆ¤æ–­ç¦»çº¿ï¼‰
4. **å‰ç«¯å±•ç¤º** â†’ å‰ç«¯æ¯ 5 ç§’ä» `/api/nodes` è·å–æœ€æ–°æ•°æ®

## âš™ï¸ ç¯å¢ƒå˜é‡

### Vercel / Cloudflare Pages ç¯å¢ƒå˜é‡

| å˜é‡å | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `API_TOKEN` | âœ… | Agent è®¤è¯ Token | `your-secret-token` |
| `VITE_USE_REAL_API` | âœ… | ä½¿ç”¨çœŸå® API | `true` |
| `VPS_SERVERS` | âŒ | é¢„é…ç½®æœåŠ¡å™¨åˆ—è¡¨ | è§ä¸‹æ–¹è¯´æ˜ |
| `KV_REST_API_URL` | ğŸ”„ | KV å­˜å‚¨åœ°å€ï¼ˆè‡ªåŠ¨é…ç½®ï¼‰ | - |
| `KV_REST_API_TOKEN` | ğŸ”„ | KV å­˜å‚¨ Tokenï¼ˆè‡ªåŠ¨é…ç½®ï¼‰ | - |

> ğŸ”„ è¡¨ç¤ºè¿æ¥ Vercel KV åè‡ªåŠ¨é…ç½®

### VPS_SERVERS æœåŠ¡å™¨åˆ—è¡¨é…ç½®

é€šè¿‡ `VPS_SERVERS` ç¯å¢ƒå˜é‡å¯ä»¥é¢„å…ˆé…ç½®æœåŠ¡å™¨çš„æ˜¾ç¤ºåç§°ã€å›½å®¶ä»£ç å’Œä½ç½®ï¼Œ**ä¼˜å…ˆçº§é«˜äº IP è‡ªåŠ¨è¯†åˆ«**ã€‚

**æ ¼å¼**ï¼š`èŠ‚ç‚¹ID:æ˜¾ç¤ºåç§°:å›½å®¶ä»£ç :ä½ç½®æè¿°`ï¼Œå¤šä¸ªæœåŠ¡å™¨ç”¨é€—å·åˆ†éš”

**ç¤ºä¾‹**ï¼š
```
VPS_SERVERS=hk-01:é¦™æ¸¯ CN2 GIA:HK:Hong Kong,jp-01:ä¸œäº¬ Lite:JP:Tokyo,us-01:æ´›æ‰çŸ¶ 9929:US:Los Angeles
```

**å­—æ®µè¯´æ˜**ï¼š
| å­—æ®µ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| èŠ‚ç‚¹ID | ä¸ Agent é…ç½®çš„ NODE_ID ä¸€è‡´ | `hk-01` |
| æ˜¾ç¤ºåç§° | å‰ç«¯æ˜¾ç¤ºçš„æœåŠ¡å™¨åç§° | `é¦™æ¸¯ CN2 GIA` |
| å›½å®¶ä»£ç  | ISO 3166-1 alpha-2 ä»£ç  | `HK` |
| ä½ç½®æè¿° | ä½ç½®ä¿¡æ¯ | `Hong Kong` |

> ğŸ’¡ **æç¤º**ï¼šå¦‚æœä¸é…ç½® `VPS_SERVERS`ï¼Œç³»ç»Ÿä¼šæ ¹æ® VPS çš„ IP åœ°å€è‡ªåŠ¨è¯†åˆ«ä½ç½®ä¿¡æ¯ã€‚

### Agent ç¯å¢ƒå˜é‡

| å˜é‡å | å¿…å¡« | è¯´æ˜ |
|--------|------|------|
| `SERVER_URL` | âœ… | Vercel éƒ¨ç½²åœ°å€ |
| `API_TOKEN` | âœ… | API è®¤è¯ Token |
| `NODE_ID` | âœ… | èŠ‚ç‚¹å”¯ä¸€æ ‡è¯† |
| `NODE_NAME` | âŒ | è‡ªå®šä¹‰åç§°ï¼ˆé»˜è®¤è‡ªåŠ¨è¯†åˆ«ï¼‰ |
| `COUNTRY_CODE` | âŒ | å›½å®¶ä»£ç ï¼ˆé»˜è®¤è‡ªåŠ¨è¯†åˆ«ï¼‰ |
| `LOCATION` | âŒ | ä½ç½®æè¿°ï¼ˆé»˜è®¤è‡ªåŠ¨è¯†åˆ«ï¼‰ |

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **React 18** - UI æ¡†æ¶
- **TypeScript 5** - ç±»å‹å®‰å…¨
- **Vite 5** - æ„å»ºå·¥å…·
- **Tailwind CSS 3** - æ ·å¼æ¡†æ¶
- **Lucide React** - å›¾æ ‡åº“
- **Vercel KV** - Redis æ•°æ®å­˜å‚¨
- **Vercel Serverless** - æ— æœåŠ¡å™¨å‡½æ•°

## ğŸ“ é¡¹ç›®ç»“æ„

```
avpsmonitor/
â”œâ”€â”€ api/                  # Vercel Serverless å‡½æ•°
â”‚   â”œâ”€â”€ nodes.ts          # GET  /api/nodes - è·å–æ‰€æœ‰èŠ‚ç‚¹
â”‚   â””â”€â”€ report.ts         # POST /api/report - Agent æ•°æ®ä¸ŠæŠ¥
â”œâ”€â”€ agent/                # VPS ç›‘æ§ Agent
â”‚   â”œâ”€â”€ agent.js          # Agent è„šæœ¬ï¼ˆçº¯ Node.jsï¼Œé›¶ä¾èµ–ï¼‰
â”‚   â”œâ”€â”€ install.sh        # ä¸€é”®å®‰è£…è„šæœ¬
â”‚   â””â”€â”€ README.md         # Agent æ–‡æ¡£
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/       # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Header.tsx    # é¡¶éƒ¨å¯¼èˆª
â”‚   â”‚   â”œâ”€â”€ Footer.tsx    # é¡µè„š
â”‚   â”‚   â”œâ”€â”€ VPSCard.tsx   # èŠ‚ç‚¹å¡ç‰‡ï¼ˆå¡ç‰‡è§†å›¾ï¼‰
â”‚   â”‚   â”œâ”€â”€ VPSTable.tsx  # èŠ‚ç‚¹è¡¨æ ¼ï¼ˆåˆ—è¡¨è§†å›¾ï¼‰
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ data/             # Demo æ•°æ®
â”‚   â”œâ”€â”€ hooks/            # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ types/            # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ App.tsx           # ä¸»åº”ç”¨
â”‚   â””â”€â”€ main.tsx          # å…¥å£æ–‡ä»¶
â”œâ”€â”€ vercel.json           # Vercel è·¯ç”±é…ç½®
â”œâ”€â”€ .env.example          # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â””â”€â”€ package.json
```

## ğŸŒ æ”¯æŒçš„å›½å®¶/åœ°åŒº

ç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ä»¥ä¸‹å›½å®¶/åœ°åŒºå¹¶æ˜¾ç¤ºå¯¹åº”å›½æ——ï¼š

| ä»£ç  | å›½å®¶/åœ°åŒº | ä»£ç  | å›½å®¶/åœ°åŒº |
|------|-----------|------|-----------|
| ğŸ‡¨ğŸ‡³ CN | ä¸­å›½ | ğŸ‡ºğŸ‡¸ US | ç¾å›½ |
| ğŸ‡­ğŸ‡° HK | é¦™æ¸¯ | ğŸ‡¯ğŸ‡µ JP | æ—¥æœ¬ |
| ğŸ‡¹ğŸ‡¼ TW | å°æ¹¾ | ğŸ‡°ğŸ‡· KR | éŸ©å›½ |
| ğŸ‡¸ğŸ‡¬ SG | æ–°åŠ å¡ | ğŸ‡©ğŸ‡ª DE | å¾·å›½ |
| ğŸ‡¬ğŸ‡§ GB | è‹±å›½ | ğŸ‡«ğŸ‡· FR | æ³•å›½ |
| ğŸ‡³ğŸ‡± NL | è·å…° | ğŸ‡·ğŸ‡º RU | ä¿„ç½—æ–¯ |
| ğŸ‡¦ğŸ‡º AU | æ¾³å¤§åˆ©äºš | ğŸ‡¨ğŸ‡¦ CA | åŠ æ‹¿å¤§ |

> æ›´å¤šå›½å®¶ä»£ç éµå¾ª [ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) æ ‡å‡†

## ğŸ“ License

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“® é—®é¢˜åé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·åœ¨ [GitHub Issues](https://github.com/Zbun/avpsmonitor/issues) æäº¤ã€‚

---

Made with â¤ï¸ | Powered by Vercel + KV
